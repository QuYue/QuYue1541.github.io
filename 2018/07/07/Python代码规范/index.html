<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    

    <title>
      Python代码规范 | 曲丘山の博客 
    </title>

    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    
      <meta name="author" content="Qu Yue">
    
    

    <meta name="description" content="曲岳 QuYue   前言   代码本没有规范，但是用的人多了就有了规范。 其实在许多程序员的努力下，发现了许许多多可以让代码更加规则的规范。   做为一个程序员，肯定免不了要阅读别人的代码。众所周知，有的代码无论在可读性上还是外观上都十分好看，而有的代码杂乱无章让人读起来十分痛苦。遵守代码规范就是一种可以改良代码可读性的重要方法。有人曾总结代码开发的重要性:  规范的代码可以促进团队合作 规范的">
<meta name="keywords" content="编程技巧,Python">
<meta property="og:type" content="article">
<meta property="og:title" content="Python代码规范 | 曲丘山の博客">
<meta property="og:url" content="http://yoursite.com/2018/07/07/Python代码规范/index.html">
<meta property="og:site_name" content="曲丘山の博客">
<meta property="og:description" content="曲岳 QuYue   前言   代码本没有规范，但是用的人多了就有了规范。 其实在许多程序员的努力下，发现了许许多多可以让代码更加规则的规范。   做为一个程序员，肯定免不了要阅读别人的代码。众所周知，有的代码无论在可读性上还是外观上都十分好看，而有的代码杂乱无章让人读起来十分痛苦。遵守代码规范就是一种可以改良代码可读性的重要方法。有人曾总结代码开发的重要性:  规范的代码可以促进团队合作 规范的">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-11-28T06:23:28.596Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python代码规范 | 曲丘山の博客">
<meta name="twitter:description" content="曲岳 QuYue   前言   代码本没有规范，但是用的人多了就有了规范。 其实在许多程序员的努力下，发现了许许多多可以让代码更加规则的规范。   做为一个程序员，肯定免不了要阅读别人的代码。众所周知，有的代码无论在可读性上还是外观上都十分好看，而有的代码杂乱无章让人读起来十分痛苦。遵守代码规范就是一种可以改良代码可读性的重要方法。有人曾总结代码开发的重要性:  规范的代码可以促进团队合作 规范的">
    
    
    
      <link rel="icon" type="image/x-icon" href="/银八老师.png">
    
    <link rel="stylesheet" href="/css/uno.css">
    <link rel="stylesheet" href="/css/highlight.css">
    <link rel="stylesheet" href="/css/archive.css">
    <link rel="stylesheet" href="/css/china-social-icon.css">

</head>
<body>

    <span class="mobile btn-mobile-menu">
        <i class="icon icon-list btn-mobile-menu__icon"></i>
        <i class="icon icon-x-circle btn-mobile-close__icon hidden"></i>
    </span>

    

<header class="panel-cover panel-cover--collapsed">


  <div class="panel-main">

  
    <div class="panel-main__inner panel-inverted">
    <div class="panel-main__content">

        
        <a href="/" title="link to homepage for 曲丘山の博客"><img src="/银八老师.png" width="80" alt="曲丘山の博客 logo" class="panel-cover__logo logo"></a>
        

        <h1 class="panel-cover__title panel-title"><a href="/" title="link to homepage">曲丘山の博客</a></h1>
        <hr class="panel-cover__divider">

        

        <div class="navigation-wrapper">

          <nav class="cover-navigation cover-navigation--primary">
            <ul class="navigation">

              
                
                <li class="navigation__item"><a href="/#blog" title="" class="blog-button">首页</a></li>
              
                
                <li class="navigation__item"><a href="/about" title="" class="">关于</a></li>
              
                
                <li class="navigation__item"><a href="/archive" title="" class="">归档</a></li>
              

            </ul>
          </nav>

          <!-- ----------------------------
To add a new social icon simply duplicate one of the list items from below
and change the class in the <i> tag to match the desired social network
and then add your link to the <a>. Here is a full list of social network
classes that you can use:

    icon-social-500px
    icon-social-behance
    icon-social-delicious
    icon-social-designer-news
    icon-social-deviant-art
    icon-social-digg
    icon-social-dribbble
    icon-social-facebook
    icon-social-flickr
    icon-social-forrst
    icon-social-foursquare
    icon-social-github
    icon-social-google-plus
    icon-social-hi5
    icon-social-instagram
    icon-social-lastfm
    icon-social-linkedin
    icon-social-medium
    icon-social-myspace
    icon-social-path
    icon-social-pinterest
    icon-social-rdio
    icon-social-reddit
    icon-social-skype
    icon-social-spotify
    icon-social-stack-overflow
    icon-social-steam
    icon-social-stumbleupon
    icon-social-treehouse
    icon-social-tumblr
    icon-social-twitter
    icon-social-vimeo
    icon-social-xbox
    icon-social-yelp
    icon-social-youtube
    icon-social-zerply
    icon-mail

-------------------------------->

<!-- add social info here -->



        </div>

      </div>

    </div>

    <div class="panel-cover--overlay"></div>
  </div>
</header>

    <div class="content-wrapper">
        <div class="content-wrapper__inner entry">
            

<article class="post-container post-container--single">

  <header class="post-header">
    
    <h1 class="post-title">Python代码规范</h1>

    

    <div class="post-meta">
      <time datetime="2018-07-07" class="post-meta__date date">2018-07-07</time> 

      <span class="post-meta__tags tags">

          

          
             &#8226; 标签:
            <font class="tags">
              <a class="tags-link" href="/tags/Python/">Python</a>, <a class="tags-link" href="/tags/编程技巧/">编程技巧</a>
            </font>
          

      </span>
    </div>
    
    

  </header>

  <section id="post-content" class="article-content post">
    <div align="right"><b><font face="楷体" size="4">曲岳 </font></b><i>QuYue</i></div>
<hr>
<h2 id="前言"><a class="markdownIt-Anchor" href="#前言"></a> 前言</h2>
<p>  <strong>代码本没有规范，但是用的人多了就有了规范。</strong> 其实在许多程序员的努力下，发现了许许多多可以让代码更加规则的规范。<br>
  做为一个程序员，肯定免不了要阅读别人的代码。众所周知，有的代码无论在可读性上还是外观上都十分好看，而有的代码杂乱无章让人读起来十分痛苦。遵守代码规范就是一种可以改良代码可读性的重要方法。有人曾总结<a href="http://kdboy.iteye.com/blog/407572" title="代码开发的重要性">代码开发的重要性</a>:</p>
<ul>
<li>规范的代码可以促进团队合作</li>
<li>规范的代码可以减少bug处理</li>
<li>规范的代码可以降低维护成本</li>
<li>规范的代码有助于代码审查</li>
<li>养成代码规范的习惯，有助于程序员自身的成长。</li>
</ul>
<p>  当然作为一门语言，Python也是有属于自己的规范的，而且本身Python就是一个和结构十分相关的语言<code>例如：缩进</code>，所以掌握好Python的代码规范就显得尤为重要。</p>
<h2 id="1-基本规范"><a class="markdownIt-Anchor" href="#1-基本规范"></a> 1 基本规范</h2>
<h3 id="11-代码格式"><a class="markdownIt-Anchor" href="#11-代码格式"></a> 1.1 代码格式</h3>
<h5 id="111-缩进"><a class="markdownIt-Anchor" href="#111-缩进"></a> 1.1.1 缩进</h5>
<ul>
<li>统一使用4个空格来进行缩进。<br>
<code>绝对不要使用tab键来进行缩进，除非编译器中设置了tab=4个空格。</code></li>
</ul>
<h5 id="112-行宽"><a class="markdownIt-Anchor" href="#112-行宽"></a> 1.1.2 行宽</h5>
<p>  每行代码尽量不超过80个字符，在特殊情况下可以超过80，但最长不可以超过120.<br>
理由如下：</p>
<ul>
<li>这在查看side-by-side的diff时很有帮助。</li>
<li>方便在控制台下查看代码。</li>
<li>太长可能是设计有缺陷。</li>
</ul>
<h5 id="113-引号"><a class="markdownIt-Anchor" href="#113-引号"></a> 1.1.3 引号</h5>
<p>  通常，自然语言使用双引号，机器标示使用单引号，因此代码里多数应该使用单引号。<br>
具体如下：</p>
<ul>
<li><strong>自然语言</strong>使用双引号<code>&quot;...&quot;</code><br>
例如 错误信息<code>u&quot;Hello, world&quot;</code>；很多情况是unicode，使用<code>u&quot;你好，世界&quot;</code></li>
<li><strong>机器标识</strong>使用单引号<code>'...'</code><br>
例如 dict里的key</li>
<li><strong>正则表达式</strong>使用原生的双引号<code>r&quot;...&quot;</code></li>
<li>**文档字符串(docstring)**使用三个双引号<code>&quot;......c&quot;</code></li>
</ul>
<h5 id="114-空行"><a class="markdownIt-Anchor" href="#114-空行"></a> 1.1.4 空行</h5>
<blockquote>
<ul>
<li>模块级函数和类定义之间空两行。</li>
<li>类成员函数之间空一行。</li>
<li>可以使用多个空行分隔多组相关的函数</li>
<li>函数内逻辑无关段落之间空一行。</li>
<li>其余地方尽量不要空行。</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h6 id="115-字符串"><a class="markdownIt-Anchor" href="#115-字符串"></a> 1.1.5 字符串</h6>
<ul>
<li>避免循环中用+和-操作符来累加字符串。由于字符串是不可变的，这样做会创建不必要的临时对象。通常的做法是，将每个字串加到一个列表里，在最后用<code>.join</code>连接列表。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">items = [<span class="string">'&lt;table&gt;'</span>]</span><br><span class="line"><span class="keyword">for</span> last_name, first_name <span class="keyword">in</span> employee_list:</span><br><span class="line">    items.append(<span class="string">'&lt;tr&gt;&lt;td&gt;%s, %s&lt;/td&gt;&lt;/tr&gt;'</span> % (last_name, first_name))</span><br><span class="line">items.append(<span class="string">'&lt;/table&gt;'</span>)</span><br><span class="line">employee_table = <span class="string">''</span>.join(items)</span><br></pre></td></tr></table></figure>
<h3 id="12-导入格式"><a class="markdownIt-Anchor" href="#12-导入格式"></a> 1.2 导入格式</h3>
<ul>
<li>每个导入应该分行书写，但是导入同一个模块的多个类可以放在行中书写</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time, ctime</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line"><span class="keyword">import</span> sys,os</span><br></pre></td></tr></table></figure>
<ul>
<li>import语句应该使用明确的import</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line"><span class="keyword">from</span> foo.bar <span class="keyword">import</span> Bar</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line"><span class="keyword">from</span> ..bar <span class="keyword">import</span> Bar</span><br></pre></td></tr></table></figure>
<ul>
<li>import语句应该放在文件头部，置于模块说明及docstring之后，于全局变量之前。同时，应保证从最通用到最不通用的顺序分组:
<ul>
<li>标准库导入</li>
<li>第三方库导入</li>
<li>应用程序指定导入</li>
</ul>
</li>
<li>import语句应该按照顺序排列，每组之间用一个空行分隔</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> msgpack</span><br><span class="line"><span class="keyword">import</span> zmq</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> foo</span><br></pre></td></tr></table></figure>
<ul>
<li>导入其他模块的类的定义时，可是使用相对导入</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> myclass <span class="keyword">import</span> MyClass</span><br></pre></td></tr></table></figure>
<ul>
<li>如果发生命名冲突，则可以使用命名空间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> bar</span><br><span class="line"><span class="keyword">import</span> foo.bar</span><br><span class="line"></span><br><span class="line">bar.Bar()</span><br><span class="line">foo.bar.Bar()</span><br></pre></td></tr></table></figure>
<h3 id="13-空格格式"><a class="markdownIt-Anchor" href="#13-空格格式"></a> 1.3 空格格式</h3>
<h5 id="131-二元操作符"><a class="markdownIt-Anchor" href="#131-二元操作符"></a> 1.3.1 二元操作符</h5>
<ul>
<li>在二元操作符两边各加一个空格，包括：赋值<code>=</code>，比较<code>==,!=,&lt;,&gt;,&lt;=,&gt;=,in,not in,is,is not</code>，布尔<code>and,or,not</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line">i = i + <span class="number">1</span></span><br><span class="line">submitted += <span class="number">1</span></span><br><span class="line">x = x * <span class="number">2</span> - <span class="number">1</span></span><br><span class="line">h = x * x + y * y</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line">i=i+<span class="number">1</span></span><br><span class="line">submitted +=<span class="number">1</span></span><br><span class="line">x = x*<span class="number">2</span> - <span class="number">1</span></span><br><span class="line">h = x*x + y*y</span><br></pre></td></tr></table></figure>
<ul>
<li>但是不要在逗号，分号，冒号前面加空格，但应该在他们后面加（除了在行尾）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line"><span class="keyword">if</span> x == <span class="number">4</span>:</span><br><span class="line">    <span class="keyword">print</span> x, y</span><br><span class="line">x, y = y, x</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line"><span class="keyword">if</span> x == <span class="number">4</span> :</span><br><span class="line">    <span class="keyword">print</span> x , y</span><br><span class="line">x , y = y , x</span><br></pre></td></tr></table></figure>
<ul>
<li>当<code>=</code>用于指示关键字参数或默认参数值时，不要在其两测使用空格</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">complex</span><span class="params">(real, imag=<span class="number">0.0</span>)</span>:</span> <span class="keyword">return</span> magic(r=real, i=imag)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">complex</span><span class="params">(real, imag = <span class="number">0.0</span>)</span>:</span> <span class="keyword">return</span> magic(r = real, i = imag)</span><br></pre></td></tr></table></figure>
<h5 id="132-括号之间"><a class="markdownIt-Anchor" href="#132-括号之间"></a> 1.3.2 括号之间</h5>
<ul>
<li>括号内不要加空格，但是其他自带的空格需要加</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line">spam(ham[<span class="number">1</span>], &#123;eggs: <span class="number">2</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line">spam( ham[<span class="number">1</span>], &#123;eggs : <span class="number">2</span> &#125; )</span><br></pre></td></tr></table></figure>
<ul>
<li>参数列表，索引或左括号前不应该加空格</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line">spam(<span class="number">1</span>)</span><br><span class="line">dict[<span class="string">'key'</span>] = list[index]</span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line">spam (<span class="number">1</span>)</span><br><span class="line">dict [<span class="string">'key'</span>] = list [index]</span><br></pre></td></tr></table></figure>
<h5 id="133-对齐"><a class="markdownIt-Anchor" href="#133-对齐"></a> 1.3.3 对齐</h5>
<ul>
<li>不要为对齐赋值语句或注释而使用额外的空格，增加维护的负担</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line">x = <span class="number">1</span> <span class="comment"># 1</span></span><br><span class="line">y = <span class="number">2</span> <span class="comment"># 2</span></span><br><span class="line">long_variable = <span class="number">3</span> <span class="comment"># 3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line">x             = <span class="number">1</span> <span class="comment"># 1</span></span><br><span class="line">y             = <span class="number">2</span> <span class="comment"># 2</span></span><br><span class="line">long_variable = <span class="number">3</span> <span class="comment"># 3</span></span><br></pre></td></tr></table></figure>
<h3 id="14-换行格式"><a class="markdownIt-Anchor" href="#14-换行格式"></a> 1.4 换行格式</h3>
<ul>
<li>
<p>Python是支持括号内的换行。这时有两种情况</p>
<ol>
<li>第二行缩进到括号的起始处</li>
</ol>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo = function_name_1(var_1, var_2,</span><br><span class="line">                      var_3, var_4)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>第二行缩进4个空格</li>
</ol>
  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">foo = function_name_2(</span><br><span class="line">    var_1, var_2,</span><br><span class="line">    var_3, var_4)</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>使用反斜杠<code>\</code>换行，二元运算符<code>+,.</code>等应该出现在行末；长字符串同理</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">session.query(MyTable).\</span><br><span class="line">        filter_by(id=<span class="number">1</span>).\</span><br><span class="line">        one()</span><br><span class="line"></span><br><span class="line">print(<span class="string">'Hello, '</span>\</span><br><span class="line">      <span class="string">'%s %s'</span> %\</span><br><span class="line">      (<span class="string">'Harry'</span>,<span class="string">'Potter'</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>不要使用复合语句<code>一行中有多个语句</code></li>
<li><code>if/for/while</code>等尽量换行</li>
</ul>
<h3 id="15-文档格式"><a class="markdownIt-Anchor" href="#15-文档格式"></a> 1.5 文档格式</h3>
<h5 id="151-文档编码"><a class="markdownIt-Anchor" href="#151-文档编码"></a> 1.5.1 文档编码</h5>
<ul>
<li>如果没有特殊情况，文件一律使用<strong>UTF-8</strong>编码。</li>
<li>如果没有特殊情况，文件头部必须加入<code>#-*-coding:utf-8-*-</code>标识。</li>
</ul>
<h5 id="152-文档字符串-docstring"><a class="markdownIt-Anchor" href="#152-文档字符串-docstring"></a> 1.5.2 文档字符串 docstring</h5>
<p>Python有一种独一无二的注释方式：docstring，更加详细的讲解将在2.2中讲。</p>
<ul>
<li>所有的公共模块、函数、类、方法，都应该写docstring。私有方法不一定需要，但应该在def后提供一个块注释来说明</li>
<li>docstring的结束&quot;&quot;&quot;应该独占一行，除非只有一行</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""Return a foobar</span></span><br><span class="line"><span class="string">Optional plotz says to frobnicate the bizbaz first.</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="string">"""Oneline docstring"""</span></span><br></pre></td></tr></table></figure>
<h3 id="16-main函数"><a class="markdownIt-Anchor" href="#16-main函数"></a> 1.6 main函数</h3>
<ul>
<li>即使是一个打算被用做脚本的文件，也应该是可导入的。并且简单的导入不应该让该脚本的主功能(main function)被执行。主功能应该放在main()函数中</li>
<li>在Python中通常使用如下方法：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">      ...</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="2-注释规范"><a class="markdownIt-Anchor" href="#2-注释规范"></a> 2 注释规范</h2>
<h3 id="21-代码注释"><a class="markdownIt-Anchor" href="#21-代码注释"></a> 2.1 代码注释</h3>
<h5 id="211-块注释"><a class="markdownIt-Anchor" href="#211-块注释"></a> 2.1.1 块注释</h5>
<ul>
<li>通常<code>#</code>号后空一格，段落间用空行分开（同样需要<code>#</code>号）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 块注释</span></span><br><span class="line"><span class="comment"># 块注释</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 块注释</span></span><br><span class="line"><span class="comment"># 块注释</span></span><br></pre></td></tr></table></figure>
<h5 id="212-行注释"><a class="markdownIt-Anchor" href="#212-行注释"></a> 2.1.2 行注释</h5>
<ul>
<li>至少使用两个空格和语句分开，注意不要使用无意义的注释。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 推荐的写法</span></span><br><span class="line">x = x + <span class="number">1</span> <span class="comment"># 边框加粗一个像素</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的写法</span></span><br><span class="line">x = x + <span class="number">1</span> <span class="comment"># 无意义的注释</span></span><br></pre></td></tr></table></figure>
<h5 id="213-建议"><a class="markdownIt-Anchor" href="#213-建议"></a> 2.1.3 建议</h5>
<ul>
<li>在代码的关键部分（或负责的地方），能写注释的要尽量写注释</li>
<li>比较重要注释段，使用多个等号隔开，可是更加醒目，突出重要性。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">app = create_app(name, options)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># =======================</span></span><br><span class="line"><span class="comment"># 制作app</span></span><br><span class="line"><span class="comment"># ========================</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    app.run()</span><br></pre></td></tr></table></figure>
<h3 id="22-文档注释"><a class="markdownIt-Anchor" href="#22-文档注释"></a> 2.2 文档注释</h3>
<blockquote>
<p>文档注释一般在模块的头部、函数和类的头部，这样我们就可以通过调用对象的<code>__doc__</code>来获取文档。经过设置也可以在IDE和编辑器中得到Docstring的提示。</p>
</blockquote>
<ul>
<li>通常文档注释以<code>&quot;&quot;&quot;</code>开头和结尾，首行不换行，如有多行，末行必需单独换行。<br>
下面是Google的docstring风格示例</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""Example docstrings.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">This module demonstrates documentation as specified by the `Google Python</span></span><br><span class="line"><span class="string">Style Guide`_. Docstrings may extend over multiple lines. Sections are created</span></span><br><span class="line"><span class="string">with a section header and a colon followed by a block of indented text.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Example:</span></span><br><span class="line"><span class="string">    Examples can be given using either the ``Example`` or ``Examples``</span></span><br><span class="line"><span class="string">    sections. Sections support any reStructuredText formatting, including</span></span><br><span class="line"><span class="string">    literal blocks::</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        $ python example_google.py</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Section breaks are created by resuming unindented text. Section breaks</span></span><br><span class="line"><span class="string">are also implicitly created anytime a new section starts.</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure>
<ul>
<li>docstring一定要具体的描述其具体内容，解释具体的参数和返回值等</li>
<li>函数参数、返回值等的说明可以采用numpy的标准，如下所示</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">(arg1, arg2)</span>:</span></span><br><span class="line">    <span class="string">"""在这里写函数的一句话总结(如: 计算平均值).</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    这里是具体描述.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    参数</span></span><br><span class="line"><span class="string">    ----------</span></span><br><span class="line"><span class="string">    arg1 : int</span></span><br><span class="line"><span class="string">        arg1的具体描述</span></span><br><span class="line"><span class="string">    arg2 : int</span></span><br><span class="line"><span class="string">        arg2的具体描述</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    返回值</span></span><br><span class="line"><span class="string">    -------</span></span><br><span class="line"><span class="string">    int</span></span><br><span class="line"><span class="string">        返回值的具体描述</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    参看</span></span><br><span class="line"><span class="string">    --------</span></span><br><span class="line"><span class="string">    otherfunc : 其它关联函数等...</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    示例</span></span><br><span class="line"><span class="string">    --------</span></span><br><span class="line"><span class="string">    示例使用doctest格式, 在`&gt;&gt;&gt;`后的代码可以被文档测试工具作为测试用例自动运行</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; a=[1,2,3]</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; print [x + 3 for x in a]</span></span><br><span class="line"><span class="string">    [4, 5, 6]</span></span><br><span class="line"><span class="string">    """</span></span><br></pre></td></tr></table></figure>
<ul>
<li>文档注释尽量不要中英文混用</li>
<li>模块、公有类、公有方法，能写文档注释的，应该尽量写文档注释</li>
<li>一个函数当满足以下条件就可以不需要文档字符串
<ol>
<li>外部不可见</li>
<li>非常短小</li>
<li>简单明了</li>
</ol>
</li>
</ul>
<h2 id="3-命名规范"><a class="markdownIt-Anchor" href="#3-命名规范"></a> 3 命名规范</h2>
<h3 id="31-命名约定"><a class="markdownIt-Anchor" href="#31-命名约定"></a> 3.1 命名约定</h3>
<ul>
<li>所谓的“内部”表示仅模块内可用，或者，在类内或私有的。</li>
<li>用单下划线<code>-</code>开头表示模块变量或函数是protected的（使用import * from时不会包含）</li>
<li>用双下划线<code>__</code>开头的实例变量或方法表示类内私有</li>
<li>可以将相关的类和顶级函数放在同一个模块里</li>
</ul>
<h3 id="31-模块命名"><a class="markdownIt-Anchor" href="#31-模块命名"></a> 3.1 模块命名</h3>
<ul>
<li>通常模块尽量使用小写命名，尽量不要使用<code>_</code>（除非多个单词，且数量不多的情况）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正确的模块名</span></span><br><span class="line"><span class="keyword">import</span> decoder</span><br><span class="line"><span class="keyword">import</span> html_parser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 不推荐的模块名</span></span><br><span class="line"><span class="keyword">import</span> Decoder</span><br></pre></td></tr></table></figure>
<h3 id="32-类命名"><a class="markdownIt-Anchor" href="#32-类命名"></a> 3.2 类命名</h3>
<ul>
<li>通常类名使用驼峰（CamelCase）命名风格，即每个单词的首字母大写，私有类需要用一个下划线(或两个下划线)开头</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Farm</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimalFarm</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_PrivateFarm</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<ul>
<li>我们可以将相关的类和顶级函数放在同一个模块里，不用象Java一类一个模块<br>
###　3.3 函数</li>
<li>通常函数名一律小写，如果有多个单词，使用下划线隔开</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"Hello"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello_world</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"Hello, world"</span>)</span><br></pre></td></tr></table></figure>
<p>-　私有函数在函数前加一个下划线</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span><span class="params">()</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_private_func</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>
<h3 id="34-变量名"><a class="markdownIt-Anchor" href="#34-变量名"></a> 3.4 变量名</h3>
<ul>
<li>通常变量名尽量小写，如有多个单词，用<code>_</code>隔开</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apple = <span class="number">1</span></span><br><span class="line">huawei = <span class="number">2</span></span><br><span class="line">xiaomi_10 = <span class="number">3</span></span><br></pre></td></tr></table></figure>
<h3 id="35-常量"><a class="markdownIt-Anchor" href="#35-常量"></a> 3.5 常量</h3>
<ul>
<li>通常常量使用全大写，如果有的多个单词，使用<code>_</code>隔开</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MAX_LOOP = <span class="number">100</span></span><br><span class="line">MAX_ERROR = <span class="number">0.1</span></span><br></pre></td></tr></table></figure>
<hr>
<p><em>To my family,with love</em><br>
<em>To my friend,with encourage</em><br>
<em>To my teacher,with gratitude</em></p>

  </section>

  <section class="post-comments">

    <!-- 将评论系统（例如Disqus、多说、友言、畅言等）提供的代码片段粘贴在这里 -->
    
</section>


</article>


            <footer class="footer">

    <span class="footer__copyright">&copy; 2014-2015. | 由<a href="https://hexo.io/">Hexo</a>强力驱动 | 主题<a href="https://github.com/someus/huno">Huno</a></span>
    

</footer>

<script type="text/javascript" src="/js/jquery.min.js"></script>
<script type="text/javascript" src="/js/awesome-toc.min.js"></script>
<script type="text/javascript">
    $.awesome_toc({        
      autoDetectHeadings: true,
      enableToTopButton: true,
      title: "INDEX",
      css: {
          fontSize: "14px",
          largeFontSize: "18px",
      },
    });
</script>
<script src="https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js"></script>
<script>
    if (window.mermaid) {
      mermaid.initialize({theme: 'forest'});
    }
</script>

        </div>
    </div>

    <!-- js files -->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/scale.fix.js"></script>
    

    

    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript"> 
        $(document).ready(function(){
            MathJax.Hub.Config({ 
                tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\(','\\)']],
                            displayMath: [ ['$$','$$'], ['\[','\]'] ]} 
            });
        });
    </script>


    

    <script src="/js/awesome-toc.min.js"></script>
    <script>
        $(document).ready(function(){
            $.awesome_toc({
                overlay: true,
                contentId: "post-content",
            });
        });
    </script>


    
    
    <!--kill ie6 -->
<!--[if IE 6]>
  <script src="//letskillie6.googlecode.com/svn/trunk/2/zh_CN.js"></script>
<![endif]-->

</body>
</html>
